<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>FINQ Dashboard</title>
<link rel="stylesheet" href="dashboard.css" />
<script defer src="dashboard.js"></script>
<style>
  /* Universal font override inside head to ensure precedence */
  body, input, button, select, textarea, h1, h2, h3, h4, h5, h6 {
    font-family: 'Segoe UI', 'Open Sans', 'Lato', Arial, sans-serif;
  }
</style>
</head>
<body class="preload">
<nav class="navbar">
  <div class="logo-container">
    <div class="logo-box">
      <img src="https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?w=40&h=40&fit=crop&auto=format" alt="FINQ Logo" class="logo-img logo" />
    </div>
    <div class="logo-text">FINQ</div>
  </div>
  <div class="controls">
    <select id="language-switch" aria-label="Change Language">
      <option value="en">EN</option>
      <option value="hi">à¤¹à¤¿à¤‚à¤¦à¥€</option>
    </select>
    <button id="theme-toggle" aria-label="Toggle theme">ğŸŒ™</button>
    <button id="profile-btn" aria-label="Open profile">ğŸ‘¤</button>
  </div>
</nav>

<section class="greeting-section">
  <img src="https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800&h=200&fit=crop&auto=format" alt="Greetings" class="greeting-img">
</section>

<main class="dashboard" role="main">
  <h2 class="section-title">ğŸ“Œ Overview</h2>
  <section class="cards">
    <div class="card income" id="card-income" tabindex="0" role="button" aria-label="Open Income details">
      <h3>ğŸ’° Income This Month</h3>
      <p class="value" id="income-month">â‚¹0</p>
      <button class="action-btn add-btn" aria-label="Add Income" id="add-income-btn">+</button>
    </div>
    <div class="card expense" id="card-expense" tabindex="0" role="button" aria-label="Open Expense details">
      <h3>ğŸ’¸ Expense This Month</h3>
      <p class="value" id="expense-month">â‚¹0</p>
      <button class="action-btn add-btn" aria-label="Add Expense" id="add-expense-btn">+</button>
    </div>
    <div class="card budget" id="card-budget" tabindex="0" role="button" aria-label="Open Budget details">
      <h3>ğŸ¯ Budget Remaining</h3>
      <p class="value" id="budget-remaining">â‚¹0</p>
    </div>
  </section>

  <section class="progress" aria-label="Budget usage progress">
    <h2 class="section-title">ğŸ“ˆ Budget Usage</h2>
    <div class="progress-meta">
      <span id="progress-label">0% of â‚¹0 used</span>
    </div>
    <div class="progress-bar" aria-label="Budget usage bar">
      <div id="progress-fill" aria-hidden="true"></div>
    </div>
    <p id="nudge">Start by adding a transaction to unlock insights.</p>
  </section>

  <section class="filters" aria-label="Filter transactions">
    <div class="filter-row">
      <div class="filter-chips" role="group" aria-label="Filter types">
        <button class="filter active" data-type="all" aria-pressed="true">All</button>
        <button class="filter" data-type="income" aria-pressed="false">Income</button>
        <button class="filter" data-type="expense" aria-pressed="false">Expense</button>
        <button class="filter" data-type="food" aria-pressed="false">Food</button>
        <button class="filter" data-type="travel" aria-pressed="false">Travel</button>
        <button class="filter" data-type="rent" aria-pressed="false">Rent</button>
        <button class="filter" data-type="others" aria-pressed="false">Others</button>
      </div>
      <div class="filter-dates" aria-label="Filter by date range">
        <label>From <input type="date" id="from-date" aria-label="From date"></label>
        <label>To <input type="date" id="to-date" aria-label="To date"></label>
        <button id="reset-dates" class="mini-btn" aria-label="Reset date filters">Reset</button>
      </div>
    </div>
    <div class="tz-note">Times shown in India Standard Time (IST).</div>
  </section>

  <section class="transactions" aria-label="Transactions list">
    <h2 class="section-title">ğŸ’¬ Transactions</h2>
    <div class="transaction-frame table-wrap">
      <div class="table-meta">
        <span id="tx-count">0 items</span>
      </div>
      <table id="tx-table" role="grid" aria-describedby="tx-count">
        <thead>
          <tr>
            <th scope="col">Amount</th>
            <th scope="col">Type</th>
            <th scope="col">Category</th>
            <th scope="col">Mode</th>
            <th scope="col">Notes</th>
            <th scope="col">Date & Time (IST)</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody id="tx-tbody" role="rowgroup"></tbody>
      </table>
      <div class="empty-msg hidden" id="empty-table">
        No transactions yet. Add your first income or expense to get started!
      </div>
    </div>
  </section>
</main>

<!-- Transaction Popup -->
<div id="transaction-popup" class="popup" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="add-transaction-title">
  <div class="popup-content">
    <h3 id="add-transaction-title">â• Add Transaction</h3>
    <p id="error-msg" class="error" role="alert"></p>
    <input type="number" id="amount" placeholder="Amount (â‚¹)" inputmode="numeric" min="1" aria-required="true" />
    <select id="category" aria-label="Transaction Category"></select>
    <select id="mode" aria-label="Payment Mode">
      <option value="cash">ğŸ’µ Cash</option>
      <option value="upi">ğŸ“± UPI</option>
      <option value="card">ğŸ’³ Card</option>
      <option value="bank">ğŸ¦ Bank Transfer</option>
    </select>
    <input type="text" id="notes" placeholder="Notes (optional)" maxlength="100" aria-label="Transaction Notes" />
    <div class="popup-actions">
      <button id="save-transaction" aria-label="Save transaction">Save Transaction</button>
      <button id="close-popup" aria-label="Cancel transaction input">Cancel</button>
    </div>
  </div>
</div>

<div id="toast-container" aria-live="polite" aria-atomic="true"></div>

</body>
</html>
